<div class="container mt-4">
  <h3 class="text-center">Set Your Monthly Budget</h3>

  <form (ngSubmit)="addOrUpdateBudget()" class="row g-3 mt-3">
    <div class="col-md-4">
      <input type="text" class="form-control" placeholder="Category" [(ngModel)]="budgetForm.category" name="category" [readOnly]="isEditing" required>
    </div>
    <div class="col-md-4">
      <input type="number" class="form-control" placeholder="Amount" [(ngModel)]="budgetForm.amount" name="amount" required>
    </div>
    <div class="col-md-4">
      <input type="month" class="form-control" [(ngModel)]="budgetForm.month" name="month" [readOnly]="isEditing" required>
    </div>
    <div class="col-12 text-center">
      <button class="btn btn-primary mt-2" type="submit">{{ isEditing ? "Update Budget" : "Add Budget" }}</button>
    </div>
  </form>

  <hr>

  <h5 class="text-center mt-4">Your Budgets</h5>
  <table class="table table-striped table-hover mt-3">
    <thead class="table-dark">
      <tr>
        <th>Category</th>
        <th>Amount (â‚¹)</th>
        <th>Month</th>
        <th class="text-center">Action</th>
      </tr>
    </thead>
    <tbody>
      @for (budget of budgets; track $index) 
      {
        <tr>
          <td>{{ budget.category }}</td>
          <td>{{ budget.amount }}</td>
          <td>{{ budget.month }}</td>
          <td class="text-center">
            <button type="button" class="btn btn-sm btn-primary me-2" (click)="editBudget(budget)">Edit</button>
            <button type="button" class="btn btn-sm btn-danger" (click)="deleteBudget(budget)">Delete</button>
          </td>
        </tr>
      }
      
    </tbody>
  </table>
</div>
